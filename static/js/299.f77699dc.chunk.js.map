{"version":3,"file":"static/js/299.f77699dc.chunk.js","mappings":"gQAOO,MAAMA,EAAqBC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qcACrBC,GACrBA,EAAMC,UACkBD,GAAUA,EAAMC,UAiB7BC,EAAaN,EAAAA,GAAOC,IAAGM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,6JAWvBK,EAAcR,EAAAA,GAAOC,IAAGQ,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,6PAOlBO,GAQNC,EAAcX,EAAAA,GAAOY,EAAEC,MAAM,CACzCC,KAAM,iCACNC,OAAQ,UAFkBf,CAGzBgB,IAAAA,GAAAb,EAAAA,EAAAA,GAAA,mH,cCnDK,MAAMc,EAAoCC,EAAAA,GACpCC,EAAkDC,EAAAA,G,uBCU/D,MAAMC,EAA8BA,KACnC,MAAOC,EAASC,GAAcC,EAAAA,SAAuB,KAC9CC,EAAcC,GAAmBF,EAAAA,SAAuB,GACzDG,EAAWV,KAEX,OAAEW,GAAWT,GACjBU,IAAK,CACLD,OAAQC,EAAMC,UAAUF,UAEzBG,EAAAA,KAIDC,EAAAA,EAAAA,YAAU,KACTL,GAASM,EAAAA,EAAAA,MAAc,GACrB,KAEHD,EAAAA,EAAAA,YAAU,KAAO,IAADE,EACfX,GAA+B,QAApBW,EAAAN,EAAOH,UAAa,IAAAS,OAAA,EAApBA,EAAsBC,UAAW,wBAAwB,GAClE,CAACP,EAAQH,IAMZ,OACCW,EAAAA,EAAAA,KAACrC,EAAkB,CAACM,QAASiB,EAAQe,UACpCC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBF,SAAA,EAC9BD,EAAAA,EAAAA,KAAC9B,EAAU,CAAA+B,UACVD,EAAAA,EAAAA,KAACI,EAAAA,EAAQ,CACRC,UAAQ,EACRC,QAAQ,EACRC,OAAQ,OACRC,YAZsBC,IAC1BnB,EAAgBmB,EAAM,EAWaR,SAE9BT,EAAOkB,KAAKC,IACZX,EAAAA,EAAAA,KAAA,OAAyBG,UAAU,cAAaF,UAC/CD,EAAAA,EAAAA,KAAA,OACCG,UAAU,QACVS,IAAKD,EAAKZ,SACVc,IAAKF,EAAKG,aAJFH,EAAKI,iBAUlBb,EAAAA,EAAAA,MAAC9B,EAAW,CAAA6B,SAAA,EACXD,EAAAA,EAAAA,KAACzB,EAAW,CAACG,KAAK,GAAGyB,UAAU,SAC/BH,EAAAA,EAAAA,KAAA,KAAAC,SAAG,6EAGe,EAGvB,GAAee,EAAAA,EAAAA,MAAK/B,E","sources":["views/Discover/SubPages/Recommend/style.ts","hooks/index.ts","views/Discover/SubPages/Recommend/index.tsx"],"sourcesContent":["import styled from 'styled-components'\r\nimport bannerBg from '@a/images/banner-login.png'\r\n\r\ninterface BannerPropers {\r\n\tbgimage: string\r\n}\r\n\r\nexport const BannerBoxContainer = styled.div<BannerPropers>`\r\n\t/* background: url(${(props) =>\r\n\t\tprops.bgimage}) no-repeat center center/6000px; */\r\n\tbackground-image: url(${(props) => props.bgimage});\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center center;\r\n\tbackground-size: 6000px;\r\n\tposition: relative;\r\n\theight: 270px;\r\n\ttransition: background-image 1s;\r\n\tmin-height: 270px;\r\n\t.banner {\r\n\t\theight: 270px;\r\n\t\twidth: 982px;\r\n\t\tmargin: 0 auto;\r\n\t\tbackground-color: red;\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t}\r\n`\r\nexport const BannerLeft = styled.div`\r\n\tposition: relative;\r\n\twidth: 730px;\r\n\t.banner-item {\r\n\t\toverflow: hidden;\r\n\t\theight: 270px;\r\n\t\t.image {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n`\r\nexport const BannerRight = styled.div`\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tz-index: 20;\r\n\tright: -1px;\r\n\twidth: 254px;\r\n\theight: 270px;\r\n\tbackground: url(${bannerBg}) no-repeat 0 0;\r\n\tp {\r\n\t\tmargin: 15px auto;\r\n\t\ttext-align: center;\r\n\t\tcolor: #8d8d8d;\r\n\t\tfont-size: 12px;\r\n\t}\r\n`\r\nexport const LoginButton = styled.a.attrs({\r\n\thref: 'https://music.163.com/download',\r\n\ttarget: '_blank'\r\n})`\r\n\tdisplay: block;\r\n\twidth: 215px;\r\n\theight: 56px;\r\n\tmargin: 180px 0 0 19px;\r\n\ttext-indent: -9999px;\r\n`\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\r\nimport type { RootState, AppDispatch } from '@/store'\r\n\r\n// highlight-start\r\n// 在整个应用程序中使用，而不是简单的 `useDispatch` 和 `useSelector`\r\nexport const useAppDispatch: () => AppDispatch = useDispatch\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n// highlight-end\r\n","import React, { memo, useEffect } from 'react'\r\nimport type { IBannerType } from '@u/types'\r\nimport { Carousel } from 'antd'\r\nimport {\r\n\tBannerBoxContainer,\r\n\tBannerLeft,\r\n\tBannerRight,\r\n\tLoginButton\r\n} from './style'\r\nimport { useAppDispatch, useAppSelector } from '@/hooks'\r\nimport { fetchBanner } from '@s/modules/recommend'\r\nimport { shallowEqual } from 'react-redux'\r\ninterface IProps {\r\n\tchildren?: React.ReactNode\r\n}\r\n\r\nconst Recommend: React.FC<IProps> = () => {\r\n\tconst [bgImage, setBgImage] = React.useState<string>('')\r\n\tconst [currentIndex, setCurrentIndex] = React.useState<number>(0)\r\n\tconst dispatch = useAppDispatch()\r\n\r\n\tconst { banner } = useAppSelector(\r\n\t\t(state) => ({\r\n\t\t\tbanner: state.recommend.banner\r\n\t\t}),\r\n\t\tshallowEqual\r\n\t)\r\n\r\n\t// 发起请求轮播数据\r\n\tuseEffect(() => {\r\n\t\tdispatch(fetchBanner())\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetBgImage(banner[currentIndex]?.imageUrl + '?imageView&blur=40x20')\r\n\t}, [banner, currentIndex])\r\n\r\n\tconst handleAfterChange = (index: number) => {\r\n\t\tsetCurrentIndex(index)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<BannerBoxContainer bgimage={bgImage}>\r\n\t\t\t<div className=\"banner wrap-v2\">\r\n\t\t\t\t<BannerLeft>\r\n\t\t\t\t\t<Carousel\r\n\t\t\t\t\t\tautoplay\r\n\t\t\t\t\t\tarrows={true}\r\n\t\t\t\t\t\teffect={'fade'}\r\n\t\t\t\t\t\tafterChange={handleAfterChange}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{banner.map((item) => (\r\n\t\t\t\t\t\t\t<div key={item.targetId} className=\"banner-item\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"image\"\r\n\t\t\t\t\t\t\t\t\tsrc={item.imageUrl}\r\n\t\t\t\t\t\t\t\t\talt={item.typeTitle}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Carousel>\r\n\t\t\t\t</BannerLeft>\r\n\t\t\t\t<BannerRight>\r\n\t\t\t\t\t<LoginButton href=\"\" className=\"btn\"></LoginButton>\r\n\t\t\t\t\t<p>PC 安卓 iPhone WP iPad Mac 六大客户端</p>\r\n\t\t\t\t</BannerRight>\r\n\t\t\t</div>\r\n\t\t</BannerBoxContainer>\r\n\t)\r\n}\r\nexport default memo(Recommend)\r\n"],"names":["BannerBoxContainer","styled","div","_templateObject","_taggedTemplateLiteral","props","bgimage","BannerLeft","_templateObject2","BannerRight","_templateObject3","bannerBg","LoginButton","a","attrs","href","target","_templateObject4","useAppDispatch","useDispatch","useAppSelector","useSelector","Recommend","bgImage","setBgImage","React","currentIndex","setCurrentIndex","dispatch","banner","state","recommend","shallowEqual","useEffect","fetchBanner","_banner$currentIndex","imageUrl","_jsx","children","_jsxs","className","Carousel","autoplay","arrows","effect","afterChange","index","map","item","src","alt","typeTitle","targetId","memo"],"sourceRoot":""}